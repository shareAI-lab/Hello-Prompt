#!/bin/bash

echo "ğŸš€ Hello Prompt v2 - GUIä¿®å¤æµ‹è¯•"
echo "============================"
echo ""
echo "ğŸ”§ ä¸»è¦ä¿®å¤ï¼š"
echo "   âœ… åº”ç”¨æ¿€æ´»ç­–ç•¥è®¾ç½®ä¸º.regular"
echo "   âœ… å¼ºåˆ¶æ˜¾ç¤ºè®¾ç½®çª—å£"
echo "   âœ… åº”ç”¨å¯åŠ¨åè‡ªåŠ¨æ¿€æ´»"
echo "   âœ… æƒé™ç”³è¯·çª—å£æ˜¾ç¤ºé€»è¾‘ä¿®å¤"
echo ""
echo "ğŸ¯ æœŸå¾…ç»“æœï¼š"
echo "   ğŸ“± åº”ç”¨å¯åŠ¨åè‡ªåŠ¨æ˜¾ç¤ºè®¾ç½®çª—å£"
echo "   ğŸ”‘ æƒé™ä¸è¶³æ—¶æ˜¾ç¤ºæƒé™ç”³è¯·ç•Œé¢" 
echo "   âŒ¨ï¸  æŒ‰Ctrl+Uæ˜¾ç¤ºå¿«æ·é”®æµ‹è¯•å¯¹è¯æ¡†"
echo "   ğŸ¤ å½•éŸ³ç•Œé¢åœ¨å±å¹•ä¸­å¤®æ­£ç¡®æ˜¾ç¤º"
echo ""

# æ£€æŸ¥ç³»ç»Ÿ
if [[ "$OSTYPE" != "darwin"* ]]; then
    echo "âŒ æ­¤åº”ç”¨åªèƒ½åœ¨macOSä¸Šè¿è¡Œ"
    exit 1
fi

echo "ğŸš€ å¯åŠ¨ä¿®å¤åçš„åº”ç”¨..."
echo "========================="
echo ""

# å¯åŠ¨åº”ç”¨
./.build/debug/HelloPromptV2 2>&1 | while IFS= read -r line; do
    case "$line" in
        *"è®¾ç½®åº”ç”¨æ¿€æ´»ç­–ç•¥"*)
            echo "ğŸ”§ $line" ;;
        *"åº”ç”¨å·²æ¿€æ´»å¹¶å°è¯•æ˜¾ç¤ºç•Œé¢"*)
            echo "âš¡ $line" ;;
        *"è®¾ç½®çª—å£å·²åˆ›å»ºå¹¶æ˜¾ç¤º"*)
            echo "ğŸ“± $line" ;;
        *"æƒé™ç”³è¯·çª—å£"*)
            echo "ğŸ” $line" ;;
        *"ğŸ™ï¸ å¿«æ·é”®è§¦å‘"*)
            echo "ğŸ¯ $line" ;;
        *"å½•éŸ³ç•Œé¢"*)
            echo "ğŸ¬ $line" ;;
        *"ERROR"*|*"é”™è¯¯"*)
            echo "âŒ $line" ;;
        *"WARNING"*|*"è­¦å‘Š"*)
            echo "âš ï¸  $line" ;;
        *)
            echo "$line" ;;
    esac
done
# Hello Prompt 使用指南

## 🎯 快速开始

### 第一步：启动应用
1. 找到桌面上的 `Hello Prompt.app`
2. 双击启动应用
3. 如果系统提示"无法验证开发者"，请：
   - 右键点击应用 → "打开"
   - 在弹出对话框中点击"打开"

### 第二步：授权权限

#### 麦克风权限
- 应用启动时会自动请求麦克风权限
- 点击"允许"即可

#### 输入监控权限（全局快捷键必需）
1. 前往 **系统偏好设置** > **安全性与隐私** > **隐私**
2. 在左侧列表中选择 **输入监控**
3. 点击左下角的 🔒 锁定图标，输入密码解锁
4. 点击 ➕ 添加应用
5. 找到并选择 `Hello Prompt.app`
6. 确保 Hello Prompt 前面的复选框已勾选 ✅

#### 辅助功能权限（文本插入必需）
1. 前往 **系统偏好设置** > **安全性与隐私** > **隐私**
2. 在左侧列表中选择 **辅助功能**
3. 点击左下角的 🔒 锁定图标，输入密码解锁
4. 点击 ➕ 添加应用
5. 找到并选择 `Hello Prompt.app`
6. 确保 Hello Prompt 前面的复选框已勾选 ✅

#### 如果找不到应用：
- 在"添加应用"对话框中，按 `Cmd + Shift + G`
- 输入应用路径：`/Users/baicai/Desktop/Hello-Prompt/Hello Prompt.app`
- 点击"前往"并选择应用

### 第三步：配置 OpenAI API
在使用前需要配置 OpenAI API 密钥：

1. 获取 OpenAI API 密钥：
   - 访问 https://platform.openai.com/api-keys
   - 创建新的 API 密钥

2. 修改配置（暂时需要修改代码）：
   ```bash
   # 打开配置文件
   open -e "/Users/baicai/Desktop/Hello-Prompt/Sources/HelloPrompt/OpenAIService.swift"
   
   # 找到第13行左右，修改为你的API密钥：
   var apiKey: String = "sk-your-api-key-here"
   ```

3. 重新构建应用：
   ```bash
   cd "/Users/baicai/Desktop/Hello-Prompt"
   ./build_app.sh
   ```

## 🚀 使用方法

### 方式一：悬浮球操作
1. **开始录音** - 单击悬浮球
2. **说话** - 清晰地说出内容（中文或英文）
3. **停止录音** - 再次单击悬浮球
4. **查看结果** - 查看语音识别和AI优化结果
5. **插入文本** - 点击"确认"插入到当前应用

### 方式二：现代化全局快捷键（2025年最佳实践）
- **⌘F5** - 开始/停止录音（Command + F5）
- **⌘⇧F6** - 显示设置（Command + Shift + F6）
- **⌘⌥F7** - 显示/隐藏悬浮球（Command + Option + F7）
- **⌘⌃F8** - 快速优化剪贴板文本（Command + Control + F8）

### 悬浮球交互
- **单击** - 开始/停止录音
- **双击** - 显示设置
- **右键** - 取消当前操作
- **拖拽** - 移动悬浮球位置

## 💡 使用场景

### 1. 编程助手
**说话**："创建一个React登录组件"
**AI优化**："请帮我创建一个React登录组件，包含用户名和密码输入框，带有表单验证、错误处理和提交功能，使用现代React Hooks编写"

### 2. 邮件回复
**说话**："感谢客户反馈"
**AI优化**："感谢您宝贵的反馈意见。我们非常重视您的建议，会认真评估并在后续版本中进行相应改进。如有其他问题，请随时联系我们。"

### 3. 文档写作
**说话**："写个项目总结"
**AI优化**："请帮我撰写一份项目总结报告，包括项目背景、主要成果、遇到的挑战、解决方案以及经验教训总结"

## 🎯 支持的应用

### 开发工具（辅助功能API）
- Xcode
- Visual Studio Code  
- IntelliJ IDEA
- 其他支持辅助功能的编辑器

### 浏览器（按键模拟）
- Safari
- Chrome
- Firefox
- 其他浏览器

### 办公软件（剪贴板）
- TextEdit
- Notes
- Microsoft Word
- 任何支持文本输入的应用

## 🔧 故障排除

### 录音无反应
- ✅ 检查麦克风权限
- ✅ 确认麦克风硬件正常
- ✅ 检查系统音量设置

### 文本插入失败
- ✅ 检查辅助功能权限
- ✅ 确认目标应用处于前台
- ✅ 尝试不同的插入模式

### API 调用失败
- ✅ 检查 OpenAI API 密钥
- ✅ 确认网络连接正常
- ✅ 检查 API 余额

### 现代化快捷键不响应
- ✅ 检查输入监控权限是否已启用
- ✅ 运行诊断工具：`swift test_modern_shortcuts.swift`
- ✅ 确认使用正确的组合键（⌘F5, ⌘⇧F6, ⌘⌥F7, ⌘⌃F8）

### 悬浮球消失
- ✅ 按 **⌘⌥F7** 重新显示
- ✅ 或通过菜单栏恢复

### 应用无法启动
- ✅ 确认已授权必要权限
- ✅ 检查 macOS 版本（需要 12.0+）
- ✅ 重新构建应用

## 📊 应用状态

### 悬浮球状态指示
- **蓝色脉动** - 正在录音
- **绿色** - 录音完成
- **红色** - 出现错误
- **灰色** - 空闲状态

### 日志查看
应用会输出详细的运行日志，在终端中可以看到：
- 音频处理状态
- API 调用情况
- 权限检查结果
- 错误信息

## 🔒 隐私说明

- **语音数据**：仅发送到 OpenAI 进行处理，不存储在本地
- **API 密钥**：存储在应用配置中，不会泄露
- **辅助功能**：仅用于文本插入，不收集其他信息
- **网络请求**：仅与 OpenAI API 通信

## 🆘 获取帮助

如果遇到问题：
1. 查看本使用指南
2. 检查终端日志输出
3. 确认权限设置正确
4. 重启应用尝试

---

**享受使用 Hello Prompt！让AI为你的工作效率加速 🚀**